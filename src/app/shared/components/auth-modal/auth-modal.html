<div class="auth-modal">
  <div class="modal-header">
    <h2>{{ isLoginMode ? 'Вход в аккаунт' : 'Создание аккаунта' }}</h2>
    <button nz-button nzType="text" nzShape="circle" (click)="close()">
      <span nz-icon nzType="close"></span>
    </button>
  </div>

  @if(isLoginMode) {
  <form (ngSubmit)="onLogin()" class="auth-form">
    <div class="form-group">
      <nz-form-item>
        <nz-form-label>Email</nz-form-label>
        <nz-form-control>
          <input
            nz-input
            type="email"
            placeholder="Ваш email"
            [(ngModel)]="loginData.email"
            name="email"
            required
          />
        </nz-form-control>
      </nz-form-item>
    </div>

    <div class="form-group">
      <nz-form-item>
        <nz-form-label>Пароль</nz-form-label>
        <nz-form-control>
          <input
            nz-input
            type="password"
            placeholder="Ваш пароль"
            [(ngModel)]="loginData.password"
            name="password"
            required
          />
        </nz-form-control>
      </nz-form-item>
    </div>

    <div class="form-options">
      <label nz-checkbox [(ngModel)]="loginData.remember" name="remember"> Запомнить меня </label>
      <a href="#" class="forgot-link">Забыли пароль?</a>
    </div>

    <button nz-button nzType="primary" nzSize="large" nzBlock [nzLoading]="isLoading" type="submit">
      Войти
    </button>
  </form>
  } @if(!isLoginMode) {
  <form (ngSubmit)="onRegister()" class="auth-form">
    <div class="form-group">
      <nz-form-item>
        <nz-form-label>Имя</nz-form-label>
        <nz-form-control>
          <input
            nz-input
            placeholder="Ваше имя"
            [(ngModel)]="registerData.name"
            name="name"
            required
          />
        </nz-form-control>
      </nz-form-item>
    </div>

    <div class="form-group">
      <nz-form-item>
        <nz-form-label>Email</nz-form-label>
        <nz-form-control>
          <input
            nz-input
            type="email"
            placeholder="Ваш email"
            [(ngModel)]="registerData.email"
            name="email"
            required
          />
        </nz-form-control>
      </nz-form-item>
    </div>

    <div class="form-group">
      <nz-form-item>
        <nz-form-label>Пароль</nz-form-label>
        <nz-form-control>
          <input
            nz-input
            type="password"
            placeholder="Придумайте пароль"
            [(ngModel)]="registerData.password"
            name="password"
            required
          />
        </nz-form-control>
      </nz-form-item>
    </div>

    <div class="form-group">
      <nz-form-item>
        <nz-form-label>Подтвердите пароль</nz-form-label>
        <nz-form-control>
          <input
            nz-input
            type="password"
            placeholder="Повторите пароль"
            [(ngModel)]="registerData.confirmPassword"
            name="confirmPassword"
            required
          />
        </nz-form-control>
      </nz-form-item>
    </div>

    <div class="form-agreement">
      <label nz-checkbox [(ngModel)]="registerData.agreeTerms" name="agreeTerms">
        Я принимаю <a href="/terms" target="_blank">условия использования</a> и
        <a href="/privacy" target="_blank">политику конфиденциальности</a>
      </label>
    </div>

    <button nz-button nzType="primary" nzSize="large" nzBlock [nzLoading]="isLoading" type="submit">
      Зарегистрироваться
    </button>
  </form>
  }
  <div class="auth-switch">
    <p>
      {{ isLoginMode ? 'Ещё нет аккаунта?' : 'Уже есть аккаунт?' }}
      <a href="#" (click)="toggleMode(); $event.preventDefault()">
        {{ isLoginMode ? 'Зарегистрироваться' : 'Войти' }}
      </a>
    </p>
  </div>

  <div class="social-auth">
    <div class="divider">
      <span>или войти через</span>
    </div>

    <div class="social-buttons">
      <button nz-button nzSize="large" nzBlock class="google-btn">
        <span nz-icon nzType="google"></span>
        Google
      </button>

      <button nz-button nzSize="large" nzBlock class="github-btn">
        <span nz-icon nzType="github"></span>
        GitHub
      </button>
    </div>
  </div>
</div>
